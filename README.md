# Avito-microservice
Микросервис для работы с балансом пользователей

Микросервис осуществляет зачисление средств пользователям, перевод средств от пользователя к пользователю, заказ услуг, а также предоставляет информацию о балансе клиента, месячные отчеты по всем пользователям для каждой из услуг и индивидуальную историю операций

Инструкция по запуску
---------------------

Для запуска требует ввести команду docker compose up в папке проекта

Описание эндпоинтов
---------------------

После запуска проекта просмотр swagger-документации возможен по ссылке http://localhost:8080/swagger/index.html  

/balance [get]:  
Принимает id пользователя из параметров строки и возвращает JSON с информацией о данном пользователе  
/balance [post]:  
Принимает JSON с id пользователя и кол-вом средств и пополняет баланс данного пользователя этим кол-вом средств  
                Если пользователя нет в базе данных то он вносится в нее с данным балансом  
/transfer [post]:  
Принимает JSON с id отправителя, id получателя и кол-во средств, переводит эти средства от одного к другому  
/order [post]:  
Принимает JSON с id пользователя, id услуги, название услуги, id заказа, стоимость и осуществляет резервацию  
/order/success [post]:  
Принимает JSON с id пользователя, id услуги, название услуги, id заказа, стоимость и осуществляет разрезервирование выполненного заказа  
/order/failed [post]:  
Принимает JSON с id пользователя, id услуги, название услуги, id заказа, стоимость и осуществляет разрезервирование невыполненного заказа  
/report [post]:  
Принимает JSON с годом и месяцем, создает отчет по этому месяцу и возвращает ссылку, с включенным в нее id файла, по которой возможен просмотр отчета  
/report/csv [get]:  
Принимает id файла из параметров строки и выводит соответствующий отчет  
/history [get]:  
Принимает из параметров строки id пользователя и параметры limit,offset. Возвращает историю операций данного пользователя  




